# =============================================================================
# DSAI App Backend - Environment Configuration
# =============================================================================
# Copy this file to .env and update the values as needed.
#
# LOCAL DEVELOPMENT: Use paths starting with ./ or ../../
# DOCKER DEPLOYMENT: Use paths starting with /app/
# =============================================================================

# -----------------------------------------------------------------------------
# GENERAL
# -----------------------------------------------------------------------------
PORT=3001
MY_DOMAIN=agentvoiceresponse.com

# JWT Secret for authentication (change in production!)
JWT_SECRET=supersecret

# Default Docker image for DSAI Core agents
CORE_DEFAULT_IMAGE=agentvoiceresponse/dsai-core:1.10.1

# Tenant identifier for multi-tenant deployments
TENANT=demo

# -----------------------------------------------------------------------------
# ADMIN CREDENTIALS
# -----------------------------------------------------------------------------
ADMIN_USERNAME=admin
ADMIN_PASSWORD=your-admin-password-here

# -----------------------------------------------------------------------------
# DATABASE
# -----------------------------------------------------------------------------
DB_TYPE=sqlite

# Local development path:
DB_DATABASE=./data/data.db

# Docker deployment path:
# DB_DATABASE=/app/data/data.db

# -----------------------------------------------------------------------------
# FRONTEND
# -----------------------------------------------------------------------------
# Local development:
FRONTEND_URL=http://localhost:3000

# Production:
# FRONTEND_URL=https://your-domain.com

# -----------------------------------------------------------------------------
# WEBHOOKS
# -----------------------------------------------------------------------------
# Leave WEBHOOK_SECRET empty to allow all webhooks (development mode)
# Set a secret value for production to secure webhook endpoints
WEBHOOK_SECRET=

# Optional: Forward webhooks to another URL
WEBHOOK_FORWARD_URL=

# Backend URL for container-to-backend communication
# Local development (containers connect to host):
BACKEND_INTERNAL_URL=http://host.docker.internal:3001

# Docker deployment (containers connect to backend container):
# BACKEND_INTERNAL_URL=http://dsai-app-backend:3001

# -----------------------------------------------------------------------------
# ASTERISK CONFIGURATION
# -----------------------------------------------------------------------------
# Path to Asterisk config files
# Local development:
ASTERISK_CONFIG_PATH=../../dsai-infra/asterisk/conf

# Docker deployment:
# ASTERISK_CONFIG_PATH=/app/asterisk

# Path to Asterisk recordings
# Local development:
ASTERISK_MONITOR_PATH=../../dsai-infra/asterisk/recordings

# Docker deployment:
# ASTERISK_MONITOR_PATH=/app/recordings

# -----------------------------------------------------------------------------
# ARI (Asterisk REST Interface)
# -----------------------------------------------------------------------------
# Local development (port 9088 is mapped from container's 8088):
ARI_URL=http://localhost:9088/ari

# Docker deployment (direct connection to Asterisk container):
# ARI_URL=http://dsai-asterisk:8088/ari

ARI_USERNAME=dsai
ARI_PASSWORD=dsai

# -----------------------------------------------------------------------------
# AMI (Asterisk Manager Interface)
# -----------------------------------------------------------------------------
# Local development:
AMI_HOST=localhost
AMI_PORT=6006

# Docker deployment:
# AMI_HOST=dsai-ami
# AMI_PORT=6006

AMI_USERNAME=dsai
AMI_PASSWORD=dsai

# -----------------------------------------------------------------------------
# DOCKER
# -----------------------------------------------------------------------------
DOCKER_SOCKET_PATH=/var/run/docker.sock
DSAI_NETWORK=dsai

# Container port ranges for dynamic agent allocation
CORE_PORT_START=5000
ASR_PORT_START=6000
LLM_PORT_START=7000
TTS_PORT_START=8000
AMI_PORT=9000

# -----------------------------------------------------------------------------
# AI PROVIDER API KEYS
# -----------------------------------------------------------------------------

# DEEPGRAM (Speech-to-Text / Text-to-Speech)
DEEPGRAM_API_KEY=

# OPENAI
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4o-mini
OPENAI_MAX_TOKENS=150
OPENAI_TEMPERATURE=0.7

# OPENAI ASSISTANT (for pre-configured assistants)
OPENAI_ASSISTANT_ID=

# ANTHROPIC (Claude)
ANTHROPIC_API_KEY=
ANTHROPIC_MODEL=claude-3-haiku-20240307
ANTHROPIC_MAX_TOKENS=1024
ANTHROPIC_TEMPERATURE=1
ANTHROPIC_SYSTEM_PROMPT="You are a helpful assistant."

# ELEVENLABS (Text-to-Speech)
ELEVENLABS_API_KEY=
ELEVENLABS_MODEL_ID=eleven_turbo_v2
ELEVENLABS_LANGUAGE_CODE=en
ELEVENLABS_VOICE_ID=21m00Tcm4TlvDq8ikWAM
ELEVENLABS_AGENT_ID=

# GOOGLE GEMINI
GEMINI_API_KEY=
GEMINI_MODEL=gemini-2.0-flash-exp
GEMINI_INSTRUCTIONS="You are a helpful assistant."

# KOKORO (Local TTS)
# Local development:
KOKORO_BASE_URL=http://host.docker.internal:8880

# Docker deployment:
# KOKORO_BASE_URL=http://dsai-kokoro:8880

# OPENROUTER (Multi-model gateway)
OPENROUTER_API_KEY=
OPENROUTER_MODEL=deepseek/deepseek-chat-v3-0324:free

# RIME (Text-to-Speech)
RIME_API_KEY=

# ULTRAVOX (Voice AI)
ULTRAVOX_AGENT_ID=
ULTRAVOX_API_KEY=

# HUME AI (Emotional AI)
HUME_API_KEY=
HUME_CONFIG_ID=

# N8N (Workflow automation)
PUBLIC_CHAT_URL=http://dsai-n8n:5678/webhook/your_n8n_public_chat_id/chat
